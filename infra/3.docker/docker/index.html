<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta property="twitter:card" content="summary_large_image"/><link rel="shortcut icon" type="image/svg" href="https://graphql-engine-cdn.hasura.io/img/hasura_icon_black.svg"/><noscript></noscript><meta name="generator" content="Gatsby 2.18.10"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">Docker</title><link data-react-helmet="true" rel="canonical" href="https://hasura.io/infra/3.docker/docker"/><meta data-react-helmet="true" name="title" content="Docker"/><meta data-react-helmet="true" name="description" content="This is the meta description"/><meta data-react-helmet="true" property="og:title" content="Docker"/><meta data-react-helmet="true" property="og:description" content="This is the meta description"/><meta data-react-helmet="true" property="twitter:title" content="Docker"/><meta data-react-helmet="true" property="twitter:description" content="This is the meta description"/><link as="script" rel="preload" href="/webpack-runtime-b50f4f1ce64ef24b2c48.js"/><link as="script" rel="preload" href="/commons-926e13980b7ff3c9526c.js"/><link as="script" rel="preload" href="/app-bf82328fa48b653c0644.js"/><link as="fetch" rel="preload" href="/page-data/infra/3.docker/docker/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div><style data-emotion-css="0"></style><div class="navBarWrapper"><nav class="navBarDefault"><div class="navBarHeader">SuHyeon&#x27;s TechBlog</div><ul class="socialWrapper visibleMobileView"><li>
		    <a href="https://twitter.com/hasurahq" target="_blank" rel="noopener">
		      <div class="twitterBtn">
		        <img src='https://graphql-engine-cdn.hasura.io/learn-hasura/assets/homepage/twitter-brands-block.svg' alt={'Discord'}/>
		      </div>
		    </a>
		  </li>
			<li>
		    <a href="https://discordapp.com/invite/hasura" target="_blank" rel="noopener">
		      <div class="discordBtn">
		        <img src='https://graphql-engine-cdn.hasura.io/learn-hasura/assets/homepage/discord-brands-block.svg' alt={'Discord'}/>
		      </div>
		    </a>
		  </li></ul><div id="navbar" class="topnav"><div class="visibleMobile"><style data-emotion-css="8uxxw2">.css-8uxxw2{width:100%;height:100vh;overflow:auto;position:fixed;padding-left:0px;position:-webkit-sticky;position:-moz-sticky;position:-webkit-sticky;position:sticky;top:0;padding-right:0;-webkit-box-shadow:-1px 0px 4px 1px rgba(175,158,232,0.4);}@media only screen and (max-width:1023px){.css-8uxxw2{width:100%;height:100vh;}}@media (min-width:767px) and (max-width:1023px){.css-8uxxw2{padding-left:0;}}@media only screen and (max-width:767px){.css-8uxxw2{padding-left:0px;height:auto;}}</style><aside class="css-8uxxw2 e199wy91"><ul class="sideBarUL"><li class="hideFrontLine firstLevel item "><ul><li class=" item "><a href="/testframework">테스트 프레임워크<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/testframework/1.mocha">Mocha</a></li></ul></li><li class=" item "><a href="/git">깃 허브<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/git/basic-git-command">Basic git command</a></li><li class=" item "><a href="/git/changing-default-branch">Changing the Default Branch</a></li><li class=" item "><a href="/git/configuring-protected-branches">Configure Branch Protection Rule</a></li><li class=" item "><a href="/git/gitforksync">git fork &amp; sync</a></li></ul></li><li class=" item "><a href="/framework">프레임워크<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/framework/NextJs">Next Js</a></li><li class=" item "><a href="/framework/prisma">Prisma<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/framework/prisma/NoticePrisma">Notice Prisma</a></li><li class=" item "><a href="/framework/prisma/prisma2">Prisma 2</a></li></ul></li></ul></li><li class=" item "><a href="/datastructure&amp;algorithm">자료구조 &amp; 알고리즘<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/datastructure&amp;algorithm/1.datastructure&amp;algorithm-tutorial">자료구조 &amp; 알고리즘 튜토리얼(Datastructure &amp; Algorithm Tutorial</a></li><li class=" item "><a href="/datastructure&amp;algorithm/10.SpaceComplexity">공간 복잡도(Space Complexity)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/11.BubbleSort">버블 정렬(Bubble Sort)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/12.InsertionSort">삽입 정렬(Insertion Sort)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/13.SelectionSort">선택 정렬(Selection Sort)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/14.RecursiveCall">재귀 용법(Recursive Call)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/15.DynamicProgramming">동적 계획법과 분할 정복(Dynamic Programming &amp; Divide and conquer</a></li><li class=" item "><a href="/datastructure&amp;algorithm/16.QuickSort">퀵 정렬(Quick Sort)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/17.MergeSort">병렬 정렬(Merge Sort)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/18.SequentialSearch">순차 탐색(Sequential Search)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/19.BinarySearch">탐색 알고리즘(Binary Search)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/2.array">배열(Array)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/20.Graph">그래프(Graph)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/21.Depth-FirstSearch">깊이 우선 탐색(Depth-FirstSearch)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/22.Breadth-FirstSearch">너비 우선 탐색(Breadth-FirstSearch)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/23.GreedyAlgorithm">탐욕 알고리즘(Greedy Algorithm)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/24.DijkstraAlgorithm">다익스트라 알고리즘(Dijkstra Algorithm)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/25.MinimumSpanningTree">최소 신장 트리(Minimum Spanning Tree)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/26.BackTracking">백트래킹(BackTracking)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/3.queue">큐(Queue)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/4.stack">스택(Stack)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/5.linkedlist">링크드리스트(LinkedList)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/6.TimeComplexity">시간 복잡도(Time Complexity)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/7.HashTable">해쉬 테이블(HashTable)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/8.Tree">트리(Tree)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/9.Heap">힙(Heap)</a></li></ul></li><li class=" item "><a href="/language">언어<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/language/javascript">Javascript<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/language/javascript/class">Class</a></li></ul></li><li class=" item "><a href="/language/typescript">Typescript</a></li></ul></li><li class=" item "><a href="/infra">인프라<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/infra/1.BasicTheory">Basic Theory</a></li><li class=" item "><a href="/infra/2.aws">aws<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/infra/2.aws/AWS-Basic">AWS-Basic</a></li><li class=" item "><a href="/infra/2.aws/AWS-S3">AWS-S3</a></li><li class=" item "><a href="/infra/2.aws/AWS-EC2">AWS-EC2</a></li><li class=" item "><a href="/infra/2.aws/AWS-Route53">AWS-Route 53</a></li><li class=" item "><a href="/infra/2.aws/AWS-RDS">AWS-RDS</a></li></ul></li><li class=" item "><a href="/infra/3.docker">Docker<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a aria-current="page" class="" href="/infra/3.docker/docker">Docker</a></li><li class=" item "><a href="/infra/3.docker/dockerbasic">Docker Basic</a></li><li class=" item "><a href="/infra/3.docker/dockerawsdeploy">Docker AWS EC2 Deploy</a></li></ul></li></ul></li><li class=" item "><a href="/library">라이브러리<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/library/graphql">GraphQL<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/library/graphql/ApolloGraphQLserver">ApolloGraphQLserver</a></li><li class=" item "><a href="/library/graphql/graphql">GraphQL</a></li></ul></li><li class=" item "><a href="/library/nexusjs">Nexus.JS</a></li></ul></li></ul></li><style data-emotion-css="1q387v1">.css-1q387v1{list-style:none;padding:0.5rem 0;}.css-1q387v1 hr{margin:0;padding:0;border:0;border-bottom:1px solid #ede7f3;}</style><li class="css-1q387v1 e199wy92"><hr/></li></ul></aside><hr/></div><ul class="navBarUL navBarNav navBarULRight"><li><style data-emotion-css="utzlxm">.css-utzlxm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;width:100%;padding:0 20px 0 25px;}.css-utzlxm .switch{position:relative;display:inline-block;width:50px;height:20px;}.css-utzlxm .switch input{opacity:0;width:0;height:0;}.css-utzlxm .slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:0.4s;-webkit-transition:0.4s;transition:0.4s;}.css-utzlxm .slider:before{position:absolute;content:'';height:30px;width:30px;left:0px;bottom:4px;top:0;bottom:0;margin:auto 0;-webkit-transition:0.4s;-webkit-transition:0.4s;transition:0.4s;box-shadow:0 0px 15px #2020203d;background:white url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOfSURBVEiJlZVLaFxVGMd/333NJG2a+ujUJnGSSWljGvPoQ0tBbIooulDoQgSpEou4UOqiLlzpxoVFEIsgaotaaEhBEXVV8EUXgrao0SYxk6ROjCUxfaQvm8fMPfd+LqZJ5k4ySfxW93yP/+Ocw7mwTOhw21odbG8rzuf6N3fl+iqNDm5rXGreKlXwB1oe8vtr0yanF4JY1YeR2lDzbgnHn5JwxvYJjuhwR7wUjixUXBc3Wfsk/lg7sUYkvmXC1vB+qe3K5IZa90s2cxTNWQASa4B4C0AAfO8kOx8pxnMi4OdaEmbmcg9mIoF7NxLfAiIvSLIrAyChjswpsysg3jy7tEEuLeZgbotUsQL/SjdmIoF4SPl2QM7YNce/mO1xG85+p27dy3lp1XMbIPCrfbGsY0kCM7DxWzWXqgCINQIugh4TQSMuYRRAxSnM/Ss7jvglCfy+1gfwx/bMuhWv/lbR/rp4wLZw88qzPYIcBDIscpazkZdhXf2YMLy1DwnIq1Muxv5eMLCp5zPta6qQTb03oRdVDkO7XYpAdLhtrZkcuoKavIp4MxK7ByDrJDtLXr+VhmWy/oE5cECkfPYzpiNP37ZSIE23pLSvyVtAIGR3RTLizn0ay25ZEXjm3vVGL/wWxCrfU22PXH1LMVXR7lzhYu+y4H+1bjWTf45jV6/Bq38+OF/zTYTAEnUjAzozb0bp0H+eW7cUgdT93o274QxeDQChhK9GCELcy5GJILKsDHxzaFkX4qUJp99F5agrzrWIgFy68SPxM/vnMw6y5glg/uYJctBOHn9nOaLCyJ1/ZqeE4WrLldgHUTkGzY1EU+jb/si+t4oPsFSYkX3PWqqnLJGdAmD+SNzU4PqquQ6rDKl4LOIi70T7FN6wA/crSR2bKaypPmmbUfdBCezXEN0DqC1hgwAEg42Hwmwmcjji1UPZ9lIipxB+Ah1FLR90A3AfcGdBz5dOsnOv5Nmxgv7ENQ2uV0RgynYgXmolu1Ic03YQbJPUiXT+xyGEtnPXw1heGG37Bc2e+9/oAq9I6kQaCp5r2Xz2tHqpA4hb8DwrzHSjUz9COL0icEXftJOd7xeQRcMMNT1ObuxzDafcaMVGvFrw6sC6HWTB6DTwkpPs/KTIzSIqhrauM8GNTzHjuwsfwvkpB6w1IHEQVGV1r+vc8aJsPPXDgtaSXgEd2FXtc/V1gslHLabWa5jzEAXsACm/IVbZz8iqw05Dz8lSGP8BjRZeDZkbZsEAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center;}.css-utzlxm input:checked + .slider{background:linear-gradient(to right,#fefb72,#f0bb31);}.css-utzlxm input:checked + .slider:before{-webkit-transform:translateX(24px);-ms-transform:translateX(24px);-webkit-transform:translateX(24px);-ms-transform:translateX(24px);transform:translateX(24px);background:white url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANGSURBVEiJndVPbNRVEAfwz9vd/q8tBQtoxSYYDKYmejMGD3DxYloMiRoT22IEDQcPno3xoFclMf6JHrDFyIVEI3g2eiDoRWOMfygqNrSkoeAWCtIu230e3m+77e6KCZO8vH3zZuY7M+/7mxVjVFu7C+vPt7mmh4fi+eEDMUYFVZkdeZU7dhgIzxOj25ULe3fJx6PYamZkDYD4rRDmmgafDIdE3aIJbcrKxkQF4/GtBtuY/43KGVBxOsT/S3YijAomEVBCBe0geNlYfLfBZ3bfJmFlp7u/ONUcYCIMCw6jL1vhFikUURS9Zn88Vn9ZaOJA8DTuA3n0Zjm3ZlDL2VrASpZE8CwaABormAgPC75Cny7cmYE0kwou4Rq4IWeP0fhdc4DjIe+GD0QvIKcbmzOrtl56t9O2gRBYvsKVcyz9ne7nsQgiPhUdtD8uNVYwGRbQK497qu3ZzsYHUuB1EimepTiVKplBGZQM6rI7liFX5/Ur0rPmpYw3ZcEL7fRso3eQQgcCfffT0Z+i9K3GOFMNvh7gWOjDYGpJpuvbkQK1dND/IF1b6Oynf4jW7jU2a3zY6uPQ3whw0/u4S5DYIqsAOjdrkKqutSfbVcncL+ejOoAQsC39VGN9yOiTa8LmXIGOx8h11RxqzzTgeHLOAGKUM4pFFdzMzJYX0n79YiPAP/O0PUSlHTE9cCXdCJ7zVFxZA4DReA4/gKVMd/WvtJcWKf6e6FlapPgHS0UW3uPyN9b58IuxOFU91Ne+E+kL7cb1Oa5O0zPI0kJaa+XaLIszif21q4x2if+1ClLP/iRrUfYNufQTF79P2ceY2lFaZP5HLqaCFaUxmOSsT3RWD42j4mh4RnQEnTZYP+pCLh1Se2uZF0FZdNC0o16Plf8GgMnwOZ5Eot9GiefVmbQiDbtitif52njcUx+q+TSNTgoZQAlzddblJj7ByWah0htc2LvL7L5Nq9r98YhBLSo2481Vfbkh+DtytljWaiy+3QwgxOnhIfl4AmdoGTXw2eUGq8lwWNCDD1WUBC+hYNyLTf9iZ554RAiPG/jyjYKcR7E1wa3sxKkGh/H4Sp3mULNsVyVvTgxTqYIYmRk5oOK0e0/8fEvH25B/AZyRWA6LDlu9AAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:center;}.css-utzlxm .slider.round{border-radius:34px;}.css-utzlxm .slider.round:before{border-radius:50%;}</style><div class="css-utzlxm ezrrr2t0"><label id="switch" class="switch"><input type="checkbox" id="slider" checked=""/><span class="slider round"></span></label></div></li></ul></div></nav><style data-emotion-css="1gvjyvp">.css-1gvjyvp{height:60px;box-shadow:0 3px 6px 0 rgba(0,0,0,0.16);background-color:#f8f8f8;position:relative;display:none;}@media (max-width:767px){.css-1gvjyvp{display:block;}}</style><div class="css-1gvjyvp eyehm2r0"><div class="navBarDefault removePadd"><span class="navBarToggle" role="button" tabindex="0"><span class="iconBar"></span><span class="iconBar"></span><span class="iconBar"></span></span></div></div></div><style data-emotion-css="139q0o8">.css-139q0o8{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;background:#fff;}.css-139q0o8 .sideBarUL li a{color:#3B454E;}.css-139q0o8 .sideBarUL .item > a:hover{background-color:#1ed3c6;color:#fff !important;}@media only screen and (max-width:767px){.css-139q0o8{display:block;}}</style><div class="css-139q0o8 ewvi8tt0"><style data-emotion-css="192n44p">.css-192n44p{width:298px;}</style><div class="hiddenMobile css-192n44p ewvi8tt3"><style data-emotion-css="8uxxw2">.css-8uxxw2{width:100%;height:100vh;overflow:auto;position:fixed;padding-left:0px;position:-webkit-sticky;position:-moz-sticky;position:-webkit-sticky;position:sticky;top:0;padding-right:0;-webkit-box-shadow:-1px 0px 4px 1px rgba(175,158,232,0.4);}@media only screen and (max-width:1023px){.css-8uxxw2{width:100%;height:100vh;}}@media (min-width:767px) and (max-width:1023px){.css-8uxxw2{padding-left:0;}}@media only screen and (max-width:767px){.css-8uxxw2{padding-left:0px;height:auto;}}</style><aside class="css-8uxxw2 e199wy91"><ul class="sideBarUL"><li class="hideFrontLine firstLevel item "><ul><li class=" item "><a href="/testframework">테스트 프레임워크<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/testframework/1.mocha">Mocha</a></li></ul></li><li class=" item "><a href="/git">깃 허브<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/git/basic-git-command">Basic git command</a></li><li class=" item "><a href="/git/changing-default-branch">Changing the Default Branch</a></li><li class=" item "><a href="/git/configuring-protected-branches">Configure Branch Protection Rule</a></li><li class=" item "><a href="/git/gitforksync">git fork &amp; sync</a></li></ul></li><li class=" item "><a href="/framework">프레임워크<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/framework/NextJs">Next Js</a></li><li class=" item "><a href="/framework/prisma">Prisma<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/framework/prisma/NoticePrisma">Notice Prisma</a></li><li class=" item "><a href="/framework/prisma/prisma2">Prisma 2</a></li></ul></li></ul></li><li class=" item "><a href="/datastructure&amp;algorithm">자료구조 &amp; 알고리즘<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/datastructure&amp;algorithm/1.datastructure&amp;algorithm-tutorial">자료구조 &amp; 알고리즘 튜토리얼(Datastructure &amp; Algorithm Tutorial</a></li><li class=" item "><a href="/datastructure&amp;algorithm/10.SpaceComplexity">공간 복잡도(Space Complexity)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/11.BubbleSort">버블 정렬(Bubble Sort)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/12.InsertionSort">삽입 정렬(Insertion Sort)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/13.SelectionSort">선택 정렬(Selection Sort)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/14.RecursiveCall">재귀 용법(Recursive Call)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/15.DynamicProgramming">동적 계획법과 분할 정복(Dynamic Programming &amp; Divide and conquer</a></li><li class=" item "><a href="/datastructure&amp;algorithm/16.QuickSort">퀵 정렬(Quick Sort)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/17.MergeSort">병렬 정렬(Merge Sort)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/18.SequentialSearch">순차 탐색(Sequential Search)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/19.BinarySearch">탐색 알고리즘(Binary Search)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/2.array">배열(Array)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/20.Graph">그래프(Graph)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/21.Depth-FirstSearch">깊이 우선 탐색(Depth-FirstSearch)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/22.Breadth-FirstSearch">너비 우선 탐색(Breadth-FirstSearch)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/23.GreedyAlgorithm">탐욕 알고리즘(Greedy Algorithm)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/24.DijkstraAlgorithm">다익스트라 알고리즘(Dijkstra Algorithm)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/25.MinimumSpanningTree">최소 신장 트리(Minimum Spanning Tree)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/26.BackTracking">백트래킹(BackTracking)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/3.queue">큐(Queue)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/4.stack">스택(Stack)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/5.linkedlist">링크드리스트(LinkedList)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/6.TimeComplexity">시간 복잡도(Time Complexity)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/7.HashTable">해쉬 테이블(HashTable)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/8.Tree">트리(Tree)</a></li><li class=" item "><a href="/datastructure&amp;algorithm/9.Heap">힙(Heap)</a></li></ul></li><li class=" item "><a href="/language">언어<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/language/javascript">Javascript<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/language/javascript/class">Class</a></li></ul></li><li class=" item "><a href="/language/typescript">Typescript</a></li></ul></li><li class=" item "><a href="/infra">인프라<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/infra/1.BasicTheory">Basic Theory</a></li><li class=" item "><a href="/infra/2.aws">aws<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/infra/2.aws/AWS-Basic">AWS-Basic</a></li><li class=" item "><a href="/infra/2.aws/AWS-S3">AWS-S3</a></li><li class=" item "><a href="/infra/2.aws/AWS-EC2">AWS-EC2</a></li><li class=" item "><a href="/infra/2.aws/AWS-Route53">AWS-Route 53</a></li><li class=" item "><a href="/infra/2.aws/AWS-RDS">AWS-RDS</a></li></ul></li><li class=" item "><a href="/infra/3.docker">Docker<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a aria-current="page" class="" href="/infra/3.docker/docker">Docker</a></li><li class=" item "><a href="/infra/3.docker/dockerbasic">Docker Basic</a></li><li class=" item "><a href="/infra/3.docker/dockerawsdeploy">Docker AWS EC2 Deploy</a></li></ul></li></ul></li><li class=" item "><a href="/library">라이브러리<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/library/graphql">GraphQL<button aria-label="collapse" class="collapser"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"><path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z"></path></svg></button></a><ul><li class=" item "><a href="/library/graphql/ApolloGraphQLserver">ApolloGraphQLserver</a></li><li class=" item "><a href="/library/graphql/graphql">GraphQL</a></li></ul></li><li class=" item "><a href="/library/nexusjs">Nexus.JS</a></li></ul></li></ul></li><style data-emotion-css="1q387v1">.css-1q387v1{list-style:none;padding:0.5rem 0;}.css-1q387v1 hr{margin:0;padding:0;border:0;border-bottom:1px solid #ede7f3;}</style><li class="css-1q387v1 e199wy92"><hr/></li></ul></aside></div><style data-emotion-css="zj4uvr">.css-zj4uvr{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;margin:0px 88px;padding-top:3rem;background:#fff;}.css-zj4uvr table tr{background:#fff;}@media only screen and (max-width:1023px){.css-zj4uvr{padding-left:0;margin:0 10px;padding-top:3rem;}}</style><main class="css-zj4uvr ewvi8tt1"><style data-emotion-css="14zj307">@media only screen and (max-width:50rem){.css-14zj307{width:100%;position:relative;}}</style><div class="css-14zj307 ewvi8tt2"><div class="titleWrapper"><style data-emotion-css="1gg19kx">.css-1gg19kx{font-size:32px;line-height:1.5;font-weight:500;border-left:2px solid #1ed3c6;padding:0 16px;-webkit-flex:1;-ms-flex:1;flex:1;margin-top:0;padding-top:0;color:#000;}</style><h1 class="css-1gg19kx e1cfj4zc0">Docker</h1><style data-emotion-css="qu2iew">.css-qu2iew{padding:1rem 1.5rem;text-align:right;}.css-qu2iew a{font-size:14px;font-weight:500;line-height:1em;-webkit-text-decoration:none;text-decoration:none;color:#555;border:1px solid rgb(211,220,228);cursor:pointer;border-radius:3px;-webkit-transition:all 0.2s ease-out 0s;transition:all 0.2s ease-out 0s;-webkit-text-decoration:none;text-decoration:none;color:rgb(36,42,49);background-color:rgb(255,255,255);box-shadow:rgba(116,129,141,0.1) 0px 1px 1px 0px;height:30px;padding:5px 16px;}.css-qu2iew a:hover{background-color:rgb(245,247,249);}</style><div class="mobileView css-qu2iew e1cfj4zc1"></div></div><style data-emotion-css="1qktglx">.css-1qktglx{max-width:750px;color:#3B454E;}.css-1qktglx ul,.css-1qktglx ol{-webkit-padding-start:40px;-moz-padding-start:40px;-o-padding-start:40px;margin:24px 0px;padding:0px 0px 0px 2em;}.css-1qktglx ul li,.css-1qktglx ol li{font-size:16px;line-height:1.8;font-weight:400;}.css-1qktglx a{-webkit-transition:color 0.15s;transition:color 0.15s;color:#1000EE;}.css-1qktglx code{border:1px solid #ede7f3;border-radius:4px;padding:2px 6px;font-size:0.9375em;background:#fff;}@media (max-width:767px){.css-1qktglx{padding:0 15px;}}</style><div class="css-1qktglx e1cfj4zc2"><h2 class="heading2" id="docker">Docker</h2><p class="paragraph">Docker는 개발자와 시스템 관리자가 build, run, container와 어플리케이션을 공유할 수 있도록 해주는 플랫폼입니다.  </p><p class="paragraph">컨테이너를 사용하여 어플리케이션을 배포하는 것을 containerization이라고합니다.<br/>
<!-- -->컨테이너는 새로운 것은 아니지만 어플리케이션을 쉽게 배포하는데 사용됩니다.  </p><p class="paragraph">Conatinerization의 장점은 아래와 같습니다.  </p><ul><li>Flexible(유연성): 가장 복잡한 어플리케이션도 컨테이너화 할 수 있습니다.</li><li>Lightweight(경량성): Container는 host kernel을 활용하고 공유하므로 시스템 리소스 측면에서 Virtual Machine보다 효율적입니다.  </li><li>Portable(이식성): 로컬에서 빌드하고 클라우드에 배포하고 어디에서나 실행 가능합니다.</li><li>Loosely coupled(느슨하게 결합): 컨테이너는 자체적으로 highly self sufficient하고 캡슐화 되어있으므로<br/>다른 컨테이너를 방해하지 않고 컨테이너를 교체하거나 업그레이드 할 수 있습니다.  </li><li>Scalable(확장성): 데이터 센터에서 컨테이너 복제본을 늘리고 자동으로 배포할 수 있습니다.  </li><li>Secure(보안성): 컨테이너는 사용자가 구성할 필요없이 프로세스에 constraint와 isolation을 적용합니다.  </li></ul><h3 class="heading3" id="이미지및컨테이너">이미지 및 컨테이너</h3><p class="paragraph">컨테이너는 실행중인 프로세스에 지나지 않으며 호스트 및 다른 컨테이너와 격리된 상태를 유지하기 위해 일부 추가 캡슐화 기능이 적용됩니다.<br/>
<!-- -->컨테이너 격리의 가장 중요한 측면 중 하나는 각 컨테이너가 자체 개인 파일 시스템과 상호작용한다는 것입니다.<br/>
<!-- -->이 파일 시스템은 Docker Image에 의해 제공됩니다.<br/>
<!-- -->이미지에는 어플리케이션을 실행하는데 필요한 모든 것이 포함됩니다.  </p><h3 class="heading3" id="컨테이너및가상머신">컨테이너 및 가상머신</h3><p class="paragraph">컨테이너는 기본적으로 리눅스에서 실행되며 호스트 시스템의 커널을 다른 컨테이너와 공유합니다.<br/>
<!-- -->별도의 프로세스를 실행하여 다른 실행 파일보다 더 많은 메모리를 사용하지 않으므로 가볍습니다.  </p><p class="paragraph">반대로 Virtual Machine은 호스트 리소스에 가상으로 접근할 수 있는 &#x27;게스트 운영체제&#x27;를 실행합니다.  </p><h3 class="heading3" id="도커받기">도커 받기</h3><p class="paragraph"><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">도커 받는 주소</a>  </p><h3 class="heading3" id="docker버전테스트">Docker 버전 테스트</h3><p class="paragraph"><code>$ docker --version</code>  </p><h3 class="heading3" id="docker설치테스트">Docker 설치 테스트</h3><style data-emotion-css="fkgcw9">.css-fkgcw9{padding:16px;background:rgb(245,247,249);}</style><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">$ docker run hello</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">world</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">dUnable to find image </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;hello-world:latest&#x27;</span><span class="token plain"> locally</span></div><div class="token-line"><span class="token plain">latest</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Pulling</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> library</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">hello</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">world</span></div><div class="token-line"><span class="token plain"></span><span class="token number" style="color:rgb(181, 206, 168)">0e03</span><span class="token plain">bdcc26d7</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Pull</span><span class="token plain"> complete </span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">Digest</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> sha256</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">4</span><span class="token plain">cf9c47f86df71d48364001ede3a4fcd85ae80ce02ebad74156906caff5378bc</span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">Status</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token maybe-class-name">Downloaded</span><span class="token plain"> newer image </span><span class="token keyword" style="color:rgb(86, 156, 214)">for</span><span class="token plain"> hello</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">world</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">latest</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">Hello</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> </span><span class="token maybe-class-name">Docker</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">This</span><span class="token plain"> message shows that your installation appears to be working correctly</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token property-access maybe-class-name">To</span><span class="token plain"> generate </span><span class="token keyword" style="color:rgb(86, 156, 214)">this</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token maybe-class-name">Docker</span><span class="token plain"> took the following steps</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1.</span><span class="token plain"> </span><span class="token maybe-class-name">The</span><span class="token plain"> </span><span class="token maybe-class-name">Docker</span><span class="token plain"> client contacted the </span><span class="token maybe-class-name">Docker</span><span class="token plain"> daemon</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">2.</span><span class="token plain"> </span><span class="token maybe-class-name">The</span><span class="token plain"> </span><span class="token maybe-class-name">Docker</span><span class="token plain"> daemon pulled the </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;hello-world&quot;</span><span class="token plain"> image </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> the </span><span class="token maybe-class-name">Docker</span><span class="token plain"> </span><span class="token maybe-class-name">Hub</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">amd64</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">3.</span><span class="token plain"> </span><span class="token maybe-class-name">The</span><span class="token plain"> </span><span class="token maybe-class-name">Docker</span><span class="token plain"> daemon created a </span><span class="token keyword" style="color:rgb(86, 156, 214)">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">container</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> that image which runs the</span></div><div class="token-line"><span class="token plain">    executable that produces the output you are currently reading</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">4.</span><span class="token plain"> </span><span class="token maybe-class-name">The</span><span class="token plain"> </span><span class="token maybe-class-name">Docker</span><span class="token plain"> daemon streamed that output to the </span><span class="token maybe-class-name">Docker</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> which sent it</span></div><div class="token-line"><span class="token plain">    to your terminal</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token property-access maybe-class-name">To</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">try</span><span class="token plain"> something more ambitious</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> you can run an </span><span class="token maybe-class-name">Ubuntu</span><span class="token plain"> container </span><span class="token keyword" style="color:rgb(86, 156, 214)">with</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> $ docker run </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">it ubuntu bash</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">Share</span><span class="token plain"> images</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> automate workflows</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> and more </span><span class="token keyword" style="color:rgb(86, 156, 214)">with</span><span class="token plain"> a free </span><span class="token maybe-class-name">Docker</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">ID</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> https</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token regex">/hub.docker.com/</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token maybe-class-name">For</span><span class="token plain"> more examples and ideas</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> visit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"> https</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">docs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">docker</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">com</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token keyword" style="color:rgb(86, 156, 214)">get</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">started</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain"></span></div></pre></pre></pre><ul><li><code>docker image ls</code>로 도커 이미지가 리스트에 있는 지 확인해보세요</li><li><code>docker ps</code>는 실행중인 컨테이너를 확인할 수 있으며 종료된 컨테이너까지 보고싶다면 <code>--all</code> 옵션을 사용합니다.</li></ul><h2 class="heading2" id="이미지빌드및실행">이미지 빌드 및 실행</h2><h3 class="heading3" id="developmentworkflow">Development WorkFlow</h3><ol><li>먼저 도커 이미지를 생성하여 어플리케이션의 각 구성 요소에 대한 개별 컨테이너를 생성하고 테스트합니다.  </li><li>컨테이너와 지원 인프라를 완전한 어플리케이션으로 조립하세요.</li><li>완전한 컨테이너 식 어플리케이션을 테스트, 공유 배포합니다.</li></ol><h3 class="heading3" id="예제를통한실습">예제를 통한 실습</h3><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">git clone https</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">github</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">com</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">dockersamples</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">node</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">bulletin</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">board</span></div></pre></pre></pre><h4 class="heading4" id="이미지빌드및테스트">이미지 빌드 및 테스트</h4><p class="paragraph">이제 소스코드와 Dockerfile이 있으므로 첫 번째 이미지를 빌드하고 여기에서 시작된 컨테이너가 예상대로 작동되는지 확인해야합니다.<br/>
<!-- -->아래의 명령을 실행하면 이미지를 빌드합니다.
이미지 빌드할때  docker build --tag bulletinboard:1.0 .  &lt;---마지막에 <code>.</code> 붙혀야 빌드가됩니다.</p><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker build </span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain">tag bulletinboard</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">1.0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div></pre></pre></pre><p class="paragraph">Dockerfile의 각 지침을 통해 Docker 단계를 수행하여 이미지를 구축하는 것을 볼 수 있습니다.<br/>
<!-- -->성공하면 빌드 프로세스가 <code>Successfully tagged bulletinboard:1.0</code> 메시지와 함께 종료됩니다.  </p><h4 class="heading4" id="이미지를컨테이너로실행">이미지를 컨테이너로 실행</h4><ol><li>다음 명령어를 실행하여 새 이미지를 기반으로 컨테이너를 시작합니다.  </li></ol><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker run </span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain">publish </span><span class="token number" style="color:rgb(181, 206, 168)">8000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">8080</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain">detach </span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain">name bb bulletinboard</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">1.0</span><span class="token plain"></span></div></pre></pre></pre><ul><li>common flag</li></ul><ul><li><code>--publish</code>: 도커는 호스트의 포트 8000에서 들어오는 트래픽을 컨테이너의 포트 8080으로 전달하도록 요청합니다.<br/>컨테이너에는 자체 전용 포트 집합이 있으므로 네트워크에서 하나에 도달하려면 이러한 방식으로 트래픽을 전달해야합니다.<br/>그렇지 않으면 방화벽 규칙이 기본 보안 상태로 모든 네트워크 트래픽이 컨테이너에 도달하지 못하도록 차단합니다.  </li><li><code>--detach</code>: 도커에게 백그라운드에서 이 컨테이너를 실행하도록 요청합니다.</li><li><code>--name</code>: 다음 명령에서 컨테이너를 참조할 수 있는 이름을 지정합니다.</li></ul><ol start="2"><li><p class="paragraph">브라우저에서 어플리케이션에 접속해보면됩니다. <code>localhost:8000</code>
컨테이너가 정상적으로 작동하는 것을 확인할 수 있습니다.  </p></li><li><p class="paragraph">게시판 컨테이너가 올바르게 작동하는 것을 확인했다면 중지시키거나 삭제하시면됩니다. </p></li></ol><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token comment" style="color:rgb(106, 153, 85)">// 컨테이너 중지</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">docker stop </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">컨테이너아이디</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 컨테이너 중지 및 삭제</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">docker rm </span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain">force </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">컨테이너아</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 도커 이미지 삭제하고 싶은경우</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">docker rmi </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">이미지아이디</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span></div></pre></pre></pre><h2 class="heading2" id="클라우드에배포">클라우드에 배포</h2><h3 class="heading3" id="샘플dockerfile">샘플 Dockerfile</h3><p class="paragraph">Dockerfile 작성은 어플리케이션 컨테이너화의 첫번째 단계입니다. 이러한 Dockerfile 명령은 이미지를<br/>
<!-- -->빌드하는 방법에 대한 단계별 레시피로 생각할 수 있습니다. 예제 어플리케이션의 Dockerfile은 다음과 같습니다.  </p><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token constant" style="color:rgb(100, 102, 149)">FROM</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">12</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">ENV</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">PORT</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">3000</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># app 디렉토리 생성</span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">RUN</span><span class="token plain"> mkdir </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">p usr</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">src</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">app</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># </span><span class="token maybe-class-name">Docker</span><span class="token plain"> 이미지 내부에서 </span><span class="token constant" style="color:rgb(100, 102, 149)">RUN</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">CMD</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">ENTRYPOINT</span><span class="token plain">의 명령이 실행될 디렉터리를 설정합니다</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">WORKDIR</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">usr</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">src</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">app</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># 현재 디렉터리에 있는 파일들을 이미지 내부 </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">app 디렉터리에 추가함</span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">package</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">json</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">usr</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">src</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">app</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># npm 스크립트 코드를 실행</span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">RUN</span><span class="token plain"> npm install</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">RUN</span><span class="token plain"> npm run build</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># 하기 포트를 외부로 노출합니다</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">EXPOSE</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">3000</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># 컨테이너가 시작되었을 때 npm start 스크립트를 실행</span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">CMD</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;npm&quot;</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;start&quot;</span><span class="token plain"></span></div></pre></pre></pre><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain"># 공식이미지를 상위 </span><span class="token function" style="color:rgb(220, 220, 170)">이미지</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">node에서 제공하는 공식 이미지</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">로 사용합니다</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">FROM</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">FROM</span><span class="token plain"> node</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain">current</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">slim</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># 작업 디렉토리를 설정합니다</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">WORKDIR</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"># app 디렉토리 생성</span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">WORKDIR</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">usr</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">src</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">app</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># 호스트에서 현재 위치로 파일을 복사합니다</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">package</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">json</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># 이미지 파일 시스템 내에서 명령을 </span><span class="token function" style="color:rgb(220, 220, 170)">실행하세요</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">RUN</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">RUN</span><span class="token plain"> npm install</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># 이미지에 메타 데이터를 추가하여 런타임에 컨테이너가 수신하는 포트를 설명합니다</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">EXPOSE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">EXPOSE</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">8080</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># 컨테이너에 지정된 명령을 실행합니다</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">CMD</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">CMD</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;npm&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;start&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"># 나머지 앱 소스 코드를 호스트에서 이미지 파일 시스템으로 복사합니다</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div></pre></pre></pre><ul><li>정의된 dockerfile은 다음 단계를 따릅니다.  </li></ul><ul><li><code>FROM</code>: 기존 <code>node:current-slim</code> 이미지를 시작합니다.<br/>이것은 node.js 공급 업체에서 빌드하고 Docker에서 고품질 이미지로 검증된 공식 이미지입니다.  </li><li><code>WORKDIR</code>: <code>WORKDIR</code>을 사용하여 모든 후속 작업이 이미지 파일 시스템의 <code>/ usr / src / app </code>에서 디렉토리에서 수행되도록 지정합니다.</li><li><code>COPY</code>: 호스트의 <code>package.json</code> 파일을 이미지의 현재 위치로 복사합니다.(이 경우에는 /usr/src/app/package.json)</li><li><code>RUN</code>: 이미지 파일 시스템 내에서 <code>npm install</code> 명령을 실행합니다.(앱의 노드 종속성을 확인하기 위해 package.json을 읽고 설치)</li><li><code>CMD</code>: CMD 지시문은이 이미지를 기반으로 컨테이너를 실행하는 방법을 설명하는 일부 메타 데이터를 이미지에 지정하는<br/>첫 번째 예입니다. 이 경우이 이미지가 지원하는 컨테이너화 된 프로세스는 <code>npm start</code>라는 의미입니다.</li><li><code>EXPOSE</code>: EXPOSE 8080은 컨테이너가 런타임에 포트 8080에서 수신 대기 중임을 Docker에 알립니다.</li></ul><h3 class="heading3" id="dockerhub에서이미지공유">Docker Hub에서 이미지 공유</h3><ol><li>도커 허브에 가입 후 Docker 아이콘을 클릭하고 Repositories &gt; Create로 이동하여 리포지토리를 생성합니다.</li><li>도커 허브에서 이미지를 공유하려면 올바르게 네임 스페이스를 지정해야합니다. 양식은 <code>&lt;Your Docker ID&gt;/&lt;Repository Name&gt;:&lt;tag&gt;</code>입니다.  </li></ol><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker tag bulletinboard</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">1.0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token maybe-class-name">Your</span><span class="token plain"> </span><span class="token maybe-class-name">Docker</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">ID</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">bulletinboard</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">1.0</span><span class="token plain"></span></div></pre></pre></pre><ol start="3"><li>도커 허브에 푸시하기전, 도커 로그인을 해줘야합니다.</li></ol><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker login</span></div></pre></pre></pre><ol start="4"><li>마지막으로 이미지를 도커 허브에 푸시합니다.</li></ol><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">docker push </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token maybe-class-name">Your</span><span class="token plain"> </span><span class="token maybe-class-name">Docker</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">ID</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">bulletinboard</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">1.0</span><span class="token plain"></span></div></pre></pre></pre><h2 class="heading2" id="dockercompose">Docker Compose</h2><p class="paragraph">Compose는 다중 컨테이너 Docker 어플리케이션을 정의하고 실행하기 위한 도구입니다.<br/>
<!-- -->Compose에는 YAML 파일을 사용하여 어플리케이션의 서비스를 구성합니다.<br/>
<!-- -->그 다음 단일 명령으로 configuration으로 부터 모든 서비스를 만들고 시작합니다.  </p><p class="paragraph">Compose는 프로덕션, 스테이징, 개발, 테스트 및 CI 워크 플로우와 같은 모든 환경에서 작동합니다.  </p><ul><li>작성 사용은 기본적으로 3단계 프로세스입니다.  </li></ul><ol><li><code>Dockerfile</code>: 어디에서나 재현할 수 있도록 <code>Dockerfile</code>을 이용하여 앱의 환경을 정의합니다.  </li><li><code>docker-compose.yml</code>: 격리된 환경에서 함께 실행할 수 있도록 앱을 구성하는 서비스를 정의합니다.  </li><li><code>docker-compose up</code>: 실행 및 작성은 전체 앱을 시작하고 실행합니다.  </li></ol><p class="paragraph"><code>docker-compose.yml</code>는 다음과 같습니다.</p><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">version</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;2.0&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">services</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  web</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    build</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token property-access">ports</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;5000:5000&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    volumes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">code</span></div><div class="token-line"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> logvolume01</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token keyword" style="color:rgb(86, 156, 214)">var</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">log</span></div><div class="token-line"><span class="token plain">    links</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> redis</span></div><div class="token-line"><span class="token plain">  redis</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    image</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> redis</span></div><div class="token-line"><span class="token plain">volumes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  logvolume01</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div></pre></pre></pre><p class="paragraph">Compose에는 어플리케이션의 전체 생명 주기를 관리하는 명령이 있습니다.  </p><ul><li>서비스 시작, 중지 및 재 구축</li><li>실행중인 서비스의 상태보기</li><li>실행중인 서비스의 로그 출력 스트리밍</li><li>서비스에서 일회성 명령 실행</li></ul><h3 class="heading3" id="dockercompose시작하기">Docker Compose 시작하기</h3><h4 class="heading4" id="설정">설정</h4><ol><li>먼저 폴더를 만드세요.</li></ol><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">mkdir composetest</span></div><div class="token-line"><span class="token plain">cd composetest</span></div></pre></pre></pre><ol start="2"><li>프로젝트 디렉토리에<code>app.py</code>라는 파일을 만들고 다음 위치에 붙여 넣습니다.  </li></ol><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> time</span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> redis</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module" style="color:rgb(86, 156, 214)">from</span><span class="token plain"> flask </span><span class="token keyword module" style="color:rgb(86, 156, 214)">import</span><span class="token plain"> </span><span class="token maybe-class-name">Flask</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">app </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:rgb(220, 220, 170)">Flask</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">__name__</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">cache </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> redis</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access maybe-class-name" style="color:rgb(220, 220, 170)">Redis</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">host</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;redis&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> port</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token number" style="color:rgb(181, 206, 168)">6379</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">def </span><span class="token function" style="color:rgb(220, 220, 170)">get_hit_count</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    retries </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">while</span><span class="token plain"> </span><span class="token maybe-class-name">True</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">try</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> cache</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">incr</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;hits&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        except redis</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exceptions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">ConnectionError</span><span class="token plain"> </span><span class="token keyword module" style="color:rgb(86, 156, 214)">as</span><span class="token plain"> exc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> retries </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">                raise exc</span></div><div class="token-line"><span class="token plain">            retries </span><span class="token operator" style="color:rgb(212, 212, 212)">-=</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            time</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">sleep</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:rgb(181, 206, 168)">0.5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain" style="display:inline-block"></span></div><div class="token-line"><span class="token plain">@app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">def </span><span class="token function" style="color:rgb(220, 220, 170)">hello</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    count </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">get_hit_count</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Hello World! I have been seen {} times.\n&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">format</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span></div></pre></pre></pre><p class="paragraph">이 예에서는 redis애플리케이션 네트워크에있는 redis 컨테이너의 호스트 이름입니다. Redis에 6379 기본 포트를 사용합니다.  </p><ol start="3"><li>프로젝트 디렉토리에 <code>requirements.txt</code>라는 다른 파일을 만들고 다음 위치에 붙여 넣습니다.</li></ol><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">flask</span></div><div class="token-line"><span class="token plain">redis</span></div></pre></pre></pre><h4 class="heading4" id="dockerfile생성">Dockerfile 생성</h4><p class="paragraph">이 단계에서는 Docker 이미지를 빌드하는 Dockerfile을 작성합니다.<br/>
<!-- -->이미지에는 Python 어플리케이션에 대한 모든 dependencies가 포함되어 있습니다.  </p><p class="paragraph">프로젝트 디렉토리에 Dockerfile 다음 이름의 파일을 만들고 붙여 넣습니다.  </p><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token constant" style="color:rgb(100, 102, 149)">FROM</span><span class="token plain"> python</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token number" style="color:rgb(181, 206, 168)">3.7</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">alpine</span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">WORKDIR</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">code</span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">ENV</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">FLASK_APP</span><span class="token plain"> app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">py</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">ENV</span><span class="token plain"> </span><span class="token constant" style="color:rgb(100, 102, 149)">FLASK_RUN_HOST</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">0.0</span><span class="token number" style="color:rgb(181, 206, 168)">.0</span><span class="token number" style="color:rgb(181, 206, 168)">.0</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">RUN</span><span class="token plain"> apk add </span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain">no</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">cache gcc musl</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">dev linux</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">headers</span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token plain"> requirements</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">txt</span><span class="token plain"> requirements</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">txt</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">RUN</span><span class="token plain"> pip install </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">r requirements</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">txt</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">EXPOSE</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">5000</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">COPY</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token constant" style="color:rgb(100, 102, 149)">CMD</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;flask&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;run&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span></div></pre></pre></pre><p class="paragraph">위에 작성한 내용은 아래와 같은 의미를 가집니다.</p><ul><li>Python 3.7 이미지로 시작하는 이미지를 빌드합니다.</li><li>작업 디렉토리를 <code>/code</code>로 설정합니다.</li><li><code>flask</code> 명령에 사용되는 환경변수를 설정합니다.</li><li>gcc 및 기타 dependencies를 설치합니다.</li><li><code>requirement.txt</code>를 복사하고 Python dependencies를 설치합니다.</li><li>이미지에 메타데이터를 추가하여 컨테이너가 포트 5000에서 수신중임을 설정합니다.</li><li>workdir의 이미지를 현재 디렉토리에 복사합니다.</li><li>컨테이너의 기본명령을 <code>flask run</code>으로 설정합니다.</li></ul><h4 class="heading4" id="compose파일에서서비스정의">Compose 파일에서 서비스 정의</h4><p class="paragraph">프로젝트 디렉토리에 <code>docekr-compose.yml</code>라는 파일을 만들고 다음을 붙여넣습니다.  </p><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">version</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;3&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">services</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  web</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    build</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token property-access">ports</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;5000:5000&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  redis</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    image</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;redis:alpine&quot;</span><span class="token plain"></span></div></pre></pre></pre><ul><li>웹서비스</li></ul><p class="paragraph">이 <code>web</code> 서비스는 <code>Dockerfile</code> 현재 디렉토리에서 빌드된 이미지를 사용합니다.<br/>
<!-- -->그런 다음 컨테이너와 호스트 시스템을 노출된 5000 포트에 바인딩합니다. 예제 서비스는 Flask 웹 서버의 기본 포트인 5000을 사용합니다.  </p><ul><li>Radis 서비스</li></ul><p class="paragraph">이 radis 서비스는 Docker Hub 레지스트리에서 가져온 공개 Radis 이미지를 사용합니다.  </p><h4 class="heading4" id="compose앱빌드및실행">Compose 앱 빌드 및 실행</h4><ol><li>프로젝트 디렉토리에서 <code>docker-compose up</code> 명령어로 어플리케이션을 시작합니다.  </li><li><code>http://localhost:5000/</code>을 통해서 실행중인 어플리케이션을 확인할 수 있습니다.</li><li><code>docker image ls</code>를 사용하면 로컬의 이미지 리스트를 알 수 있습니다.</li><li><code>docker-compose down</code>으로 실행중인 어플리케이션을 중단하거나 <code>CTRL + C</code>로 중단 할 수 있습니다.</li></ol><h4 class="heading4" id="compose파일을편집하여바인드마운트추가">Compose 파일을 편집하여 바인드 마운트 추가</h4><p class="paragraph">프로젝트 디렉토리에서 <code>docker-compose.yml</code>을 편집하여 서비스에 대한 바인드 마운트를 추가하세요.</p><pre class="css-fkgcw9 eejbjcb0"><pre><pre class="prism-code language-javascript pre" style="color:#9CDCFE;background-color:#1E1E1E" p="3"><div class="token-line"><span class="token plain">version</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;3&#x27;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">services</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  web</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    build</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token property-access">ports</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;5000:5000&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    volumes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">code</span></div><div class="token-line"><span class="token plain">    environment</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token constant" style="color:rgb(100, 102, 149)">FLASK_ENV</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> development</span></div><div class="token-line"><span class="token plain">  redis</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    image</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;redis:alpine&quot;</span><span class="token plain"></span></div></pre></pre></pre><p class="paragraph"><code>volumns</code>는 호스트의 프로젝트 디렉토리(현재 디렉토리)를 <code>/code</code> 컨테이너 내부에 마운트하므로 이미지를 다시<br/>
<!-- -->빌드하지 않고도 즉시 코드를 수정할 수 있습니다.  <code>enviroment</code>는 지시 환경변수(예제에서는 FLASK_ENV)를 설정하여, 개발모드에서<br/>
<!-- -->실행하고 변화에 따라 코드를 다시 로드합니다. 이 모드는 개발에만 사용합니다.  </p><h4 class="heading4" id="compose앱다시빌드및실행">Compose 앱 다시 빌드 및 실행</h4><p class="paragraph">프로젝트 디렉토리에서 <code>docker-compose up</code>을 입력하여 업데이트된 Compose 파일로 앱을 빌드하고 실행합니다.</p></div><div class="addPaddTopBottom"><style data-emotion-css="149ienr">.css-149ienr{margin:0px;padding:0px;width:auto;display:grid;grid-template-rows:auto;-webkit-column-gap:24px;column-gap:24px;grid-template-columns:calc(50% - 8px) calc(50% - 8px);}.css-149ienr .previousBtn{cursor:pointer;-moz-box-align:center;-moz-box-direction:normal;-moz-box-orient:horizontal;witth:auto;margin:0px;padding:0px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;place-self:stretch;border-radius:3px;border:1px solid rgb(230,236,241);-webkit-transition:border 200ms ease 0s;transition:border 200ms ease 0s;box-shadow:rgba(116,129,141,0.1) 0px 3px 8px 0px;-webkit-text-decoration:none;text-decoration:none;background-color:#fff;color:#3B454E;}.css-149ienr .nextBtn{cursor:pointer;-moz-box-align:center;-moz-box-direction:normal;-moz-box-orient:horizontal;margin:0px;padding:0px;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;place-self:stretch;border-radius:3px;border:1px solid rgb(230,236,241);-webkit-transition:border 200ms ease 0s;transition:border 200ms ease 0s;box-shadow:rgba(116,129,141,0.1) 0px 3px 8px 0px;-webkit-text-decoration:none;text-decoration:none;background-color:#fff;color:#3B454E;}.css-149ienr .nextBtn:hover,.css-149ienr .previousBtn:hover{-webkit-text-decoration:none;text-decoration:none;border:1px solid #1ed3c6;}.css-149ienr .nextBtn:hover .rightArrow,.css-149ienr .previousBtn:hover .leftArrow{color:#1ed3c6;}.css-149ienr .leftArrow{display:block;margin:0px;color:rgb(157,170,182);-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:24px;-webkit-transition:color 200ms ease 0s;transition:color 200ms ease 0s;padding:16px;padding-right:16px;}.css-149ienr .rightArrow{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:24px;-webkit-transition:color 200ms ease 0s;transition:color 200ms ease 0s;padding:16px;padding-left:16px;display:block;margin:0px;color:rgb(157,170,182);}.css-149ienr .nextPreviousTitle{display:block;margin:0px;padding:0px;-webkit-transition:color 200ms ease 0s;transition:color 200ms ease 0s;}.css-149ienr .nextPreviousTitle span{font-size:16px;line-height:1.5;font-weight:500;}@media (max-width:767px){.css-149ienr{display:block;padding:0 15px;}.css-149ienr .previousBtn{margin-bottom:20px;}}</style><div class="css-149ienr e1blwlfx0"><a class="previousBtn" href="/infra/3.docker"><div class="leftArrow"><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" class="_13gjrqj"><g><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></g></svg></div><div class="preRightWrapper"><div class="smallContent"><span>Previous</span></div><div class="nextPreviousTitle"><span>Docker</span></div></div></a><a class="nextBtn" href="/infra/3.docker/dockerawsdeploy"><div class="nextRightWrapper"><div class="smallContent"><span>Next</span></div><div class="nextPreviousTitle"><span>Docker AWS EC2 Deploy</span></div></div><div class="rightArrow"><svg preserveAspectRatio="xMidYMid meet" height="1em" width="1em" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" class="_13gjrqj"><g><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></g></svg></div></a></div></div></div></main><style data-emotion-css="gqp3x7">.css-gqp3x7{width:224px;}</style><div class="hiddenMobile css-gqp3x7 ewvi8tt4"><style data-emotion-css="1dq6tsi">.css-1dq6tsi{width:100%;border-right:1px solid #ede7f3;height:100vh;overflow:auto;position:fixed;padding-left:24px;position:-webkit-sticky;position:-moz-sticky;position:-webkit-sticky;position:sticky;top:0;background:#fff;}.css-1dq6tsi .rightSideTitle{font-size:10px;line-height:1;font-weight:700;text-transform:uppercase;-webkit-letter-spacing:1.2px;-moz-letter-spacing:1.2px;-ms-letter-spacing:1.2px;letter-spacing:1.2px;padding:7px 24px 7px 16px;border-left:1px solid #e6ecf1;border-left-color:rgb(230,236,241);color:#3B454E;}.css-1dq6tsi .rightSideBarUL{margin-top:32px;}.css-1dq6tsi .rightSideBarUL li{list-style-type:none;border-left:1px solid #e6ecf1;border-left-color:rgb(230,236,241);}.css-1dq6tsi .rightSideBarUL li a{font-size:12px;font-weight:500;line-height:1.5;padding:7px 24px 7px 16px;color:#3B454E;}@media only screen and (max-width:50rem){.css-1dq6tsi{width:100%;position:relative;}}</style><aside class="css-1dq6tsi e125ngkc0"><ul class="rightSideBarUL"><li class="rightSideTitle">CONTENTS</li><style data-emotion-css="10m2n0t">.css-10m2n0t{list-style:none;}.css-10m2n0t a{color:#5c6975;-webkit-text-decoration:none;text-decoration:none;font-weight:400;padding:0.45rem 0 0.45rem 3rem;display:block;position:relative;}.css-10m2n0t a:hover{color:#1ed3c6 !important;}.css-10m2n0t a svg{float:right;margin-right:1rem;}</style><li class="css-10m2n0t e125ngkc1"><a href="#docker" to="#docker">Docker</a></li><li class="css-10m2n0t e125ngkc1"><a href="#이미지빌드및실행" to="#이미지빌드및실행">이미지 빌드 및 실행</a></li><li class="css-10m2n0t e125ngkc1"><a href="#클라우드에배포" to="#클라우드에배포">클라우드에 배포</a></li><li class="css-10m2n0t e125ngkc1"><a href="#dockercompose" to="#dockercompose">Docker Compose</a></li></ul></aside></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/infra/3.docker/docker";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-bf82328fa48b653c0644.js"],"component---src-templates-docs-js":[]};/*]]>*/</script><script src="/app-bf82328fa48b653c0644.js" async=""></script><script src="/commons-926e13980b7ff3c9526c.js" async=""></script><script src="/webpack-runtime-b50f4f1ce64ef24b2c48.js" async=""></script><script defer="">
            function navBarClose() {
              document.getElementById("navbar").classList.toggle("responsive");
            }
            document.addEventListener('click',function(e){
              if(e.target && e.target.tagName.toLowerCase() === 'a'){
                navBarClose();
              }
           });
            </script></body></html>